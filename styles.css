/* Estilos básicos EMS (fragmento principal). 
   Mantiene tus clases y añade soporte a la galería de fotos de Cotización. */

:root{
  --azul:#163960;
  --azul-claro:#3b6aa1;
  --verde:#26B77A;
  --rojo:#d33;
  --gris:#f4f6f9;
  --gris-oscuro:#2b3646;
  --bordes:#dbe2ea;
  --sombra: 0 2px 10px #2b364612;
}
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; background:#f3f6fa; color:#263248; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }

.ems-header{ display:flex; align-items:center; gap:12px; margin:14px 14px 6px 14px; }
.ems-logo{ width:44px; height:44px; border-radius:10px; }
.ems-header h1{ margin:0; font-size:1.25em; color:var(--azul); }
.ems-subtitle{ color:var(--azul-claro); font-size:1.02em; }

.ems-main-btns{ display:flex; gap:12px; flex-wrap:wrap; margin:8px 14px; }
.btn-primary, .btn-secondary, .btn-success, .btn-danger, .btn-mini{
  border:none; padding:9px 12px; border-radius:10px; cursor:pointer; font-weight:600;
}
.btn-primary{ background:var(--azul); color:#fff; }
.btn-secondary{ background:#e8eef7; color:var(--azul); }
.btn-success{ background:var(--verde); color:#fff; }
.btn-danger{ background:#ffebeb; color:#b12929; }
.btn-mini{ background:#eef3f8; color:#4b5a71; font-size:.95em; }

.ems-form{ background:#fff; border:1px solid var(--bordes); border-radius:16px; padding:14px; margin:12px; box-shadow:var(--sombra); }
.ems-form-row{ display:flex; gap:18px; flex-wrap:wrap; margin-bottom:10px; }
.ems-form-group{ display:flex; flex-direction:column; gap:4px; min-width:130px; flex:1 1 120px; }
.ems-items-table{ width:100%; border-collapse:separate; border-spacing:0; background:#fafbfc; border-radius:12px; margin-bottom:8px; }
.ems-items-table th,.ems-items-table td{ padding:7px; border-bottom:1px solid var(--bordes); text-align:left; }
.ems-items-table tr:last-child td{ border-bottom:none; }
.ems-items-table input, .ems-items-table textarea{ width:95%; font-size:1em; min-width:65px; }

.ems-form-actions{ display:flex; flex-wrap:wrap; justify-content:flex-end; gap:10px; margin-top:12px; }

.ems-historial{ margin:8px 14px 20px; }
.ems-historial-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px; }
.ems-historial-list{ display:flex; flex-direction:column; gap:10px; }
.ems-card-ems{ display:flex; align-items:center; gap:10px; background:#fff; border:1px solid var(--bordes); border-radius:16px; box-shadow:var(--sombra); padding:11px 14px; cursor:pointer; }
.ems-card-ems:hover{ background:#f7f9fd; }
.ems-card-ico{ width:35px; height:35px; border-radius:10px; display:flex; align-items:center; justify-content:center; color:#fff; background:var(--azul-claro); }
.ems-cotizacion .ems-card-ico{ background:var(--azul); } .ems-reporte .ems-card-ico{ background:var(--verde); }
.ems-card-main{ flex:1; min-width:0; }
.ems-card-tipo{ color:var(--azul-claro); font-weight:700; }
.ems-card-cliente{ white-space:nowrap; text-overflow:ellipsis; overflow:hidden; }
.ems-card-fecha{ color:#737b88; }
.ems-card-numero{ color:#a6a9b2; }

/* Galería de fotos (cotización/reporte) */
.ems-rep-fotos-row{ display:flex; flex-wrap:wrap; gap:7px 10px; align-items:flex-start; }
.ems-rep-foto{ position:relative; }
.ems-rep-foto img{ border-radius:8px; border:1px solid var(--bordes); box-shadow: 0 1px 4px #b2b7c680; }
.ems-btn-delimg{ position:absolute; top:-6px; right:-6px; border:none; background:#fff; border:1px solid var(--bordes); border-radius:50%; padding:3px 5px; cursor:pointer; }
.ems-cot-fotos-row{ display:flex; flex-wrap:wrap; gap:7px 10px; }

/* Barra "guardado" */
#progress-bar{ position:fixed; left:0; right:0; top:0; height:6px; background: rgba(22,57,96,0.07); z-index:9999; display:none; }
.progress-inner{ height:100%; background: linear-gradient(90deg, #3b6aa1 80%, #163960 100%); width:0%; color:#fff; display:flex; align-items:center; justify-content:flex-end; border-radius:5px; font-weight:600; font-size:.95em; padding-right:9px; transition: width .28s; }

/* Responsive */
@media (max-width: 700px){
  .ems-items-table{ display:block; overflow-x:auto; min-width:410px; }
  .ems-items-table thead, .ems-items-table tbody, .ems-items-table tr{ display:table; width:100%; table-layout:fixed; }
}
